[gd_scene load_steps=8 format=3 uid="uid://d18uccwt3rf5"]

[ext_resource type="PackedScene" uid="uid://dxbg8j581t76o" path="res://Scenes/apple_enemy.tscn" id="1_u3360"]
[ext_resource type="PackedScene" uid="uid://ftadpvplkegh" path="res://Scenes/player.tscn" id="2_d3xcy"]
[ext_resource type="PackedScene" uid="uid://cmuq47jrfta4b" path="res://Scenes/First lvl Environ.tscn" id="4_avtny"]
[ext_resource type="PackedScene" uid="uid://dupa5xnbrr604" path="res://hud.tscn" id="5_81hqv"]
[ext_resource type="Script" path="res://Scenes/Camera2D.gd" id="5_rs4av"]
[ext_resource type="Script" path="res://Scenes/GameTimer.gd" id="6_i31vs"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_fs7ft"]
vertices = PackedVector2Array(8700, -7700, 8700, 16700, 7300, 11300, 7300, 9700, 300, -7700, 4700, 9700, 300, 16700, 4700, 13300, 6300, 13300, 6300, 11300)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 0, 3, 5), PackedInt32Array(6, 4, 5, 7), PackedInt32Array(1, 6, 7, 8), PackedInt32Array(2, 1, 8, 9)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 300.0

[node name="Test Scene" type="Node2D"]

[node name="NavigationRegion2D2" type="NavigationRegion2D" parent="."]
editor_description = "Note: Have to press \"Bake\" after editing the environment"
navigation_polygon = SubResource("NavigationPolygon_fs7ft")

[node name="FirstLevelEnviron" parent="NavigationRegion2D2" instance=ExtResource("4_avtny")]
layer_0/navigation_enabled = false
layer_1/navigation_enabled = false

[node name="Apple Enemy" parent="." instance=ExtResource("1_u3360")]
position = Vector2(2652, 8840)

[node name="Player" parent="." instance=ExtResource("2_d3xcy")]
position = Vector2(4940, 15104)

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(0.1, 0.1)
script = ExtResource("5_rs4av")

[node name="CanvasLayer" type="CanvasLayer" parent="Camera2D"]

[node name="HUD" parent="Camera2D/CanvasLayer" node_paths=PackedStringArray("timer_node") instance=ExtResource("5_81hqv")]
timer_node = NodePath("../../../GameTimer")

[node name="GameTimer" type="Timer" parent="."]
wait_time = 20.0
one_shot = true
autostart = true
script = ExtResource("6_i31vs")

[connection signal="hit" from="Player" to="Camera2D/CanvasLayer/HUD" method="flash_timer"]
[connection signal="hit" from="Player" to="GameTimer" method="lose_time"]
